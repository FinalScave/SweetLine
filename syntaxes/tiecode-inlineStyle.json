{
  "name": "tiecode",
  "fileExtensions": [".t"],
  "styles": [
    {
      "name": "keyword",
      "foreground": "#FF569CD6",
      "tags": ["bold", "italic"]
    },
    {
      "name": "string",
      "foreground": "#FFBD63C5"
    },
    {
      "name": "number",
      "foreground": "#FFE4FAD5"
    },
    {
      "name": "comment",
      "foreground": "#FF60AE6F"
    },
    {
      "name": "class",
      "foreground": "#FF4EC9B0"
    },
    {
      "name": "method",
      "foreground": "#FF9CDCFE"
    },
    {
      "name": "variable",
      "foreground": "#FF9B9BC8"
    },
    {
      "name": "punctuation",
      "foreground": "#FFD69D85"
    },
    {
      "name": "annotation",
      "foreground": "#FFFFFD9B"
    }
  ],
  "variables": {
    "identifierStart": "[\\p{Han}\\w_$]+",
    "identifierPart": "[\\p{Han}\\w_$0-9]*",
    "identifier": "${identifierStart}${identifierPart}",
    "whiteSpace": "[ \\t\\f]",
    "any": "[\\S\\s]",
    "embedCodeRefThis": "(#)(this)",
    "embedCodeRefClass": "(#)(cls|ncls)(<)(${identifier})(>)"
  },
  "states": {
    "default": [
      {
        "pattern": "\\b(类)\\b${whiteSpace}+(${identifier})",
        "styles": [1, "keyword", 2, "class"],
        "state": "classDeclare"
      },
      {
        "pattern": "\\b(创建)\\b${whiteSpace}+(${identifier})${whiteSpace}*(<)(.*)(>)",
        "styles": [1, "keyword", 2, "class", 3, "punctuation", 5, "punctuation"],
        "subStates": [4, "genericType"]
      },
      {
        "pattern": "\\b(创建)\\b${whiteSpace}+(${identifier})",
        "styles": [1, "keyword", 2, "class"]
      },
      {
        "pattern": "(方法)${whiteSpace}+(${identifier})${whiteSpace}*(\\()",
        "styles": [1, "keyword", 2, "method", 3, "punctuation"],
        "state": "methodParams"
      },
      {
        "pattern": "(变量)${whiteSpace}+(${identifier})(?:${whiteSpace}*(:)${whiteSpace}*)?",
        "styles": [1, "keyword", 2, "variable", 3, "punctuation"],
        "state": "typeDeclare"
      },
      {
        "pattern": "(常量)${whiteSpace}+(${identifier})(?:${whiteSpace}*(:)${whiteSpace}*)?",
        "styles": [1, "keyword", 2, "variable", 3, "punctuation"],
        "state": "typeDeclare"
      },
      {
        "pattern": "(事件)${whiteSpace}+(${identifier})${whiteSpace}*(:)${whiteSpace}*(${identifier})${whiteSpace}*(\\()",
        "styles": [1, "keyword", 2, "variable", 3, "punctuation", 4, "method", 5, "punctuation"]
      },
      {
        "pattern": "\\b(包名|类|继承|变量|常量|方法|属性写|属性读|属性|定义事件|事件|结束|为|真|假|空|本对象|父对象|变体型)\\b",
        "styles": [1, "keyword"]
      },
      {
        "pattern": "\\b(如果|且|或|则|否则|假如|是|循环|跳过循环|退出循环|订阅事件|属于|返回|创建|等待)\\b",
        "styles": [1, "keyword"]
      },
      {
        "pattern": "\\b(code)\\b",
        "styles": [1, "keyword"],
        "state": "singleLineEmbedCode"
      },
      {
        "pattern": "(@)${whiteSpace}*(code)",
        "styles": [1, "punctuation", 2, "keyword"],
        "state": "multiLineEmbedCode"
      },
      {
        "pattern": "(@)${whiteSpace}*(${identifier})",
        "styles": [1, "punctuation", 2, "annotation"]
      },
      {
        "pattern": "(${identifier})${whiteSpace}*(<)(.*)(>)${whiteSpace}+(${identifier})${whiteSpace}*([;=,)])",
        "styles": [1, "class", 2, "punctuation", 4, "punctuation", 5, "variable", 6, "punctuation"],
        "subStates": [3, "genericType"]
      },
      {
        "pattern": "(${identifier})${whiteSpace}*(:)${whiteSpace}*(${identifier})${whiteSpace}*(<)(.*)(>)${whiteSpace}*([,)])",
        "styles": [1, "variable", 2, "punctuation", 3, "class", 4, "punctuation", 6, "punctuation", 7, "punctuation"],
        "subStates": [5, "genericType"]
      },
      {
        "pattern": "(${identifier})${whiteSpace}*(:)${whiteSpace}*(${identifier})${whiteSpace}*([,)])",
        "styles": [1, "variable", 2, "punctuation", 3, "class", 4, "punctuation"]
      },
      {
        "pattern": "(${identifier})${whiteSpace}*(\\()",
        "styles": [1, "method", 2, "punctuation"]
      },
      {
        "pattern": "\"(?:[^\"\\\\]|\\\\.)*\"|'(?:[^'\\\\]|\\\\.)*'",
        "style": "string"
      },
      {
        "pattern": "\\b(?:[0-9]*\\.?[0-9]+(?:[eE][+-]?[0-9]+)?[fFdD]?)\\b",
        "style": "number"
      },
      {
        "pattern": "\\[\\[",
        "style": "string",
        "state": "longString"
      },
      {
        "pattern": "/\\*",
        "style": "comment",
        "state": "longComment"
      },
      {
        "pattern": "//${any}*",
        "style": "comment"
      },
      {
        "pattern": "[.()\\[\\]?@%+\\-*/<>=,{}:]",
        "style": "punctuation"
      }
    ],
    "classDeclare": [
      {
        "pattern": "${identifier}",
        "style": "class"
      },
      {
        "pattern": "[<>,:\\[\\]]",
        "style": "punctuation"
      },
      {
        "onLineEndState": "default"
      }
    ],
    "typeDeclare": [
      {
        "pattern": "(${identifier})${whiteSpace}*(<)(.*)(>)",
        "styles": [1, "class", 2, "punctuation", 4, "punctuation"],
        "subStates": [3, "genericType"]
      },
      {
        "pattern": "[\\[\\]]",
        "style": "punctuation"
      },
      {
        "pattern": "=",
        "style": "punctuation",
        "state": "default"
      },
      {
        "pattern": "${identifier}",
        "style": "class"
      },
      {
        "onLineEndState": "default"
      }
    ],
    "methodParams": [
      {
        "pattern": "(${identifier})${whiteSpace}*(:)${whiteSpace}*(${identifier})${whiteSpace}*(<)(.*)(>)",
        "styles": [1, "variable", 2, "punctuation", 3, "class", 4, "punctuation", 6, "punctuation"],
        "subStates": [5, "genericType"]
      },
      {
        "pattern": "(${identifier})${whiteSpace}*(:)${whiteSpace}*(${identifier})",
        "styles": [1, "variable", 2, "punctuation", 3, "class"]
      },
      {
        "pattern": "(\\))${whiteSpace}*(:)${whiteSpace}*",
        "styles": [1, "punctuation", 2, "punctuation"],
        "state": "returnType"
      },
      {
        "pattern": "\\)",
        "style": "punctuation",
        "state": "default"
      },
      {
        "pattern": "[,\\[\\]]",
        "style": "punctuation"
      },
      {
        "onLineEndState": "default"
      }
    ],
    "returnType": [
      {
        "pattern": "(${identifier})${whiteSpace}*(<)(.*)(>)",
        "styles": [1, "class", 2, "punctuation", 4, "punctuation"],
        "subStates": [3, "genericType"]
      },
      {
        "pattern": "[\\[\\]]",
        "style": "punctuation"
      },
      {
        "pattern": "=",
        "style": "punctuation",
        "state": "default"
      },
      {
        "pattern": "${identifier}",
        "style": "class"
      },
      {
        "onLineEndState": "default"
      }
    ],
    "genericType": [
      {
        "pattern": "(${identifier})${whiteSpace}*(<)(.*)(>)",
        "styles": [1, "class", 2, "punctuation", 4, "punctuation"],
        "subStates": [3, "genericType"]
      },
      {
        "pattern": "${identifier}",
        "style": "class"
      },
      {
        "pattern": "[,\\[\\]]",
        "style": "punctuation"
      }
    ],
    "longString": [
      {
        "pattern": "\\]\\]",
        "style": "string",
        "state": "default"
      },
      {
        "pattern": "${any}",
        "style": "string"
      }
    ],
    "longComment": [
      {
        "pattern": "\\*/",
        "style": "comment",
        "state": "default"
      },
      {
        "pattern": "${any}",
        "style": "comment"
      }
    ],
    "singleLineEmbedCode": [
      {
        "pattern": "${embedCodeRefThis}",
        "styles": [1, "punctuation", 2, "keyword"]
      },
      {
        "pattern": "${embedCodeRefClass}",
        "styles": [1, "punctuation", 2, "keyword", 3, "punctuation", 4, "class", 5, "punctuation"]
      },
      {
        "importSyntax": "java",
        "#ifdef": "ANDROID"
      },
      {
        "importSyntax": "c++",
        "#ifdef": "WINDOWS"
      },
      {
        "onLineEndState": "default"
      }
    ],
    "multiLineEmbedCode": [
      {
        "pattern": "${embedCodeRefThis}",
        "styles": [1, "punctuation", 2, "keyword"]
      },
      {
        "pattern": "${embedCodeRefClass}",
        "styles": [1, "punctuation", 2, "keyword", 3, "punctuation", 4, "class", 5, "punctuation"]
      },
      {
        "importSyntax": "java",
        "#ifdef": "ANDROID"
      },
      {
        "importSyntax": "c++",
        "#ifdef": "WINDOWS"
      },
      {
        "pattern": "(@)${whiteSpace}*(end)",
        "styles": [1, "punctuation", 2, "keyword"],
        "state": "default"
      }
    ]
  }
}