{
  "name": "typescript",
  "fileExtensions": [".ts", ".tsx", ".mts", ".cts"],
  "variables": {
    "identifier": "[a-zA-Z_$]\\w*",
    "whiteSpace": "[ \\t\\f]",
    "any": "[\\S\\s]"
  },
  "states": {
    "default": [
      {
        "pattern": "\\b(class|interface|enum|type)\\b${whiteSpace}+(${identifier})",
        "styles": [1, "keyword", 2, "class"],
        "state": "typeHeader"
      },
      {
        "pattern": "\\b(extends|implements)\\b${whiteSpace}+(${identifier})",
        "styles": [1, "keyword", 2, "class"]
      },
      {
        "pattern": "\\b(function)\\b${whiteSpace}*(\\*)?${whiteSpace}*(${identifier})${whiteSpace}*(<)([^()]*)(>)${whiteSpace}*(\\()",
        "styles": [1, "keyword", 2, "punctuation", 3, "method", 4, "punctuation", 6, "punctuation", 7, "punctuation"],
        "subStates": [5, "genericType"],
        "state": "funcParams"
      },
      {
        "pattern": "\\b(function)\\b${whiteSpace}*(\\*)?${whiteSpace}*(${identifier})${whiteSpace}*(\\()",
        "styles": [1, "keyword", 2, "punctuation", 3, "method", 4, "punctuation"],
        "state": "funcParams"
      },
      {
        "pattern": "\\b(function)\\b${whiteSpace}*(\\*)?${whiteSpace}*(\\()",
        "styles": [1, "keyword", 2, "punctuation", 3, "punctuation"],
        "state": "funcParams"
      },
      {
        "pattern": "\\b(let|const|var)\\b${whiteSpace}+(${identifier})${whiteSpace}*(:)${whiteSpace}*(${identifier})${whiteSpace}*(<)([^()]*)(>)",
        "styles": [1, "keyword", 2, "variable", 3, "punctuation", 4, "class", 5, "punctuation", 7, "punctuation"],
        "subStates": [6, "genericType"]
      },
      {
        "pattern": "\\b(let|const|var)\\b${whiteSpace}+(${identifier})${whiteSpace}*(:)${whiteSpace}*(${identifier})(\\[\\])?(\\??)",
        "styles": [1, "keyword", 2, "variable", 3, "punctuation", 4, "class", 5, "punctuation", 6, "punctuation"]
      },
      {
        "pattern": "\\b(let|const|var)\\b${whiteSpace}+(${identifier})${whiteSpace}*([;=,)])",
        "styles": [1, "keyword", 2, "variable", 3, "punctuation"]
      },
      {
        "pattern": "\\b(let|const|var)\\b${whiteSpace}+(${identifier})",
        "styles": [1, "keyword", 2, "variable"]
      },
      {
        "pattern": "\\b(import)\\b${whiteSpace}+(.+)",
        "styles": [1, "keyword"]
      },
      {
        "pattern": "\\b(abstract|as|async|await|break|case|catch|class|const|constructor|continue|debugger|declare|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|infer|instanceof|interface|is|keyof|let|module|namespace|new|of|override|private|protected|public|readonly|return|satisfies|set|static|super|switch|this|throw|try|type|typeof|undefined|unique|using|var|void|while|with|yield)\\b",
        "styles": [1, "keyword"]
      },
      {
        "pattern": "\\b(true|false|null|undefined|NaN|Infinity)\\b",
        "styles": [1, "builtin"]
      },
      {
        "pattern": "\\b(never|unknown|any|string|number|boolean|symbol|bigint|void|object)\\b",
        "styles": [1, "builtin"]
      },
      {
        "pattern": "\\b(Array|Boolean|Date|Error|Function|JSON|Map|Math|Number|Object|Promise|Proxy|Record|Reflect|RegExp|Required|Partial|Pick|Omit|Exclude|Extract|ReturnType|Set|String|Symbol|WeakMap|WeakSet|WeakRef|Readonly|NonNullable|Parameters|ConstructorParameters|InstanceType|Awaited|PromiseLike|Iterable|Iterator|Generator|AsyncGenerator|ReadonlyArray|ReadonlyMap|ReadonlySet|TemplateStringsArray|ThisType|Uppercase|Lowercase|Capitalize|Uncapitalize)\\b",
        "styles": [1, "builtin"]
      },
      {
        "pattern": "(@)(${identifier})",
        "styles": [1, "punctuation", 2, "annotation"]
      },
      {
        "pattern": "\\b(new)\\b${whiteSpace}+(${identifier})${whiteSpace}*(<)([^()]*)(>)${whiteSpace}*(\\()",
        "styles": [1, "keyword", 2, "class", 3, "punctuation", 5, "punctuation", 6, "punctuation"],
        "subStates": [4, "genericType"]
      },
      {
        "pattern": "\\b(new)\\b${whiteSpace}+(${identifier})${whiteSpace}*(\\()",
        "styles": [1, "keyword", 2, "class", 3, "punctuation"]
      },
      {
        "pattern": "(${identifier})(\\.)(${identifier})${whiteSpace}*(\\()",
        "styles": [1, "variable", 2, "punctuation", 3, "method", 4, "punctuation"]
      },
      {
        "pattern": "(${identifier})(\\.)(${identifier})",
        "styles": [1, "variable", 2, "punctuation", 3, "variable"]
      },
      {
        "pattern": "(${identifier})${whiteSpace}*(<)([^()]*)(>)${whiteSpace}*(\\()",
        "styles": [1, "method", 2, "punctuation", 4, "punctuation", 5, "punctuation"],
        "subStates": [3, "genericType"]
      },
      {
        "pattern": "(${identifier})${whiteSpace}*(\\()",
        "styles": [1, "method", 2, "punctuation"]
      },
      {
        "pattern": "(${identifier})(\\??)${whiteSpace}*(:)${whiteSpace}*(${identifier})${whiteSpace}*(<)([^()]*)(>)",
        "styles": [1, "variable", 2, "punctuation", 3, "punctuation", 4, "class", 5, "punctuation", 7, "punctuation"],
        "subStates": [6, "genericType"]
      },
      {
        "pattern": "(${identifier})(\\??)${whiteSpace}*(:)${whiteSpace}*(${identifier})(\\[\\])?(\\??)",
        "styles": [1, "variable", 2, "punctuation", 3, "punctuation", 4, "class", 5, "punctuation", 6, "punctuation"]
      },
      {
        "pattern": "(${identifier})${whiteSpace}*(<)([^()]*)(>)",
        "styles": [1, "class", 2, "punctuation", 4, "punctuation"],
        "subStates": [3, "genericType"]
      },
      {
        "pattern": "(\\))${whiteSpace}*(:)",
        "styles": [1, "punctuation", 2, "punctuation"],
        "state": "returnType"
      },
      {
        "pattern": "`",
        "style": "string",
        "state": "templateString"
      },
      {
        "pattern": "\"(?:[^\"\\\\]|\\\\.)*\"",
        "style": "string"
      },
      {
        "pattern": "'(?:[^'\\\\]|\\\\.)*'",
        "style": "string"
      },
      {
        "pattern": "/(?![*/])(?:[^/\\\\\\[]|\\\\.|\\[(?:[^\\]\\\\]|\\\\.)*\\])+/[gimsuvy]*",
        "style": "string"
      },
      {
        "pattern": "\\b0[xX][0-9a-fA-F_]+n?\\b",
        "style": "number"
      },
      {
        "pattern": "\\b0[oO][0-7_]+n?\\b",
        "style": "number"
      },
      {
        "pattern": "\\b0[bB][01_]+n?\\b",
        "style": "number"
      },
      {
        "pattern": "\\b(?:[0-9][0-9_]*\\.?[0-9_]*(?:[eE][+-]?[0-9_]+)?n?)\\b",
        "style": "number"
      },
      {
        "pattern": "/\\*",
        "style": "comment",
        "state": "longComment"
      },
      {
        "pattern": "//${any}*",
        "style": "comment"
      },
      {
        "pattern": "=>|\\?\\.|\\.\\.\\.|\\.\\.|\\?\\?|\\+\\+|--|<<|>>>?|<=|>=|===?|!==?|&&|\\|\\||[.()\\[\\]?!@%^&|+\\-*/<>=,{};:~#]",
        "style": "punctuation"
      }
    ],
    "typeHeader": [
      {
        "pattern": "\\b(extends|implements)\\b",
        "styles": [1, "keyword"]
      },
      {
        "pattern": "(${identifier})(\\.)(${identifier})",
        "styles": [1, "class", 2, "punctuation", 3, "class"]
      },
      {
        "pattern": "${identifier}",
        "style": "class"
      },
      {
        "pattern": "[,:<>&|?]",
        "style": "punctuation"
      },
      {
        "pattern": "[{=]",
        "style": "punctuation",
        "state": "default"
      },
      {
        "pattern": "//${any}*",
        "style": "comment"
      },
      {
        "onLineEndState": "typeHeader"
      }
    ],
    "funcParams": [
      {
        "pattern": "(\\))${whiteSpace}*(:)",
        "styles": [1, "punctuation", 2, "punctuation"],
        "state": "returnType"
      },
      {
        "pattern": "\\)",
        "style": "punctuation",
        "state": "default"
      },
      {
        "pattern": "(\\.\\.\\.)${whiteSpace}*(${identifier})(\\??)${whiteSpace}*(:)${whiteSpace}*(${identifier})${whiteSpace}*(<)([^()]*)(>)",
        "styles": [1, "punctuation", 2, "variable", 3, "punctuation", 4, "punctuation", 5, "class", 6, "punctuation", 8, "punctuation"],
        "subStates": [7, "genericType"]
      },
      {
        "pattern": "(\\.\\.\\.)${whiteSpace}*(${identifier})(\\??)${whiteSpace}*(:)${whiteSpace}*(${identifier})(\\[\\])?",
        "styles": [1, "punctuation", 2, "variable", 3, "punctuation", 4, "punctuation", 5, "class", 6, "punctuation"]
      },
      {
        "pattern": "(\\.\\.\\.)${whiteSpace}*(${identifier})",
        "styles": [1, "punctuation", 2, "variable"]
      },
      {
        "pattern": "(${identifier})(\\??)${whiteSpace}*(:)${whiteSpace}*(${identifier})${whiteSpace}*(<)([^()]*)(>)",
        "styles": [1, "variable", 2, "punctuation", 3, "punctuation", 4, "class", 5, "punctuation", 7, "punctuation"],
        "subStates": [6, "genericType"]
      },
      {
        "pattern": "(${identifier})(\\??)${whiteSpace}*(:)${whiteSpace}*(${identifier})(\\[\\])?",
        "styles": [1, "variable", 2, "punctuation", 3, "punctuation", 4, "class", 5, "punctuation"]
      },
      {
        "pattern": "(${identifier})${whiteSpace}*([=])",
        "styles": [1, "variable", 2, "punctuation"]
      },
      {
        "pattern": "\\b(true|false|null|undefined|NaN)\\b",
        "styles": [1, "builtin"]
      },
      {
        "pattern": "\\b0[xX][0-9a-fA-F_]+n?\\b",
        "style": "number"
      },
      {
        "pattern": "\\b(?:[0-9][0-9_]*\\.?[0-9_]*(?:[eE][+-]?[0-9_]+)?n?)\\b",
        "style": "number"
      },
      {
        "pattern": "\"(?:[^\"\\\\]|\\\\.)*\"",
        "style": "string"
      },
      {
        "pattern": "'(?:[^'\\\\]|\\\\.)*'",
        "style": "string"
      },
      {
        "pattern": "${identifier}",
        "style": "variable"
      },
      {
        "pattern": "[,\\[\\]=?|&(){}.!:]",
        "style": "punctuation"
      },
      {
        "onLineEndState": "funcParams"
      }
    ],
    "returnType": [
      {
        "pattern": "=>",
        "style": "punctuation",
        "state": "default"
      },
      {
        "pattern": "\\b(void|never|any|unknown|string|number|boolean|symbol|bigint|object|keyof|typeof|infer|readonly|is|asserts)\\b",
        "styles": [1, "builtin"]
      },
      {
        "pattern": "(${identifier})${whiteSpace}*(<)([^()]*)(>)",
        "styles": [1, "class", 2, "punctuation", 4, "punctuation"],
        "subStates": [3, "genericType"]
      },
      {
        "pattern": "(${identifier})(\\.)(${identifier})",
        "styles": [1, "class", 2, "punctuation", 3, "class"]
      },
      {
        "pattern": "${identifier}",
        "style": "class"
      },
      {
        "pattern": "[{=]",
        "style": "punctuation",
        "state": "default"
      },
      {
        "pattern": "[\\[\\]?|&(),:<>]",
        "style": "punctuation"
      },
      {
        "pattern": "//${any}*",
        "style": "comment"
      },
      {
        "onLineEndState": "default"
      }
    ],
    "genericType": [
      {
        "pattern": "\\b(extends|infer|keyof|typeof|readonly|in|out)\\b",
        "styles": [1, "keyword"]
      },
      {
        "pattern": "\\b(string|number|boolean|symbol|bigint|void|never|any|unknown|object)\\b",
        "styles": [1, "builtin"]
      },
      {
        "pattern": "(${identifier})${whiteSpace}*(<)([^()]*)(>)",
        "styles": [1, "class", 2, "punctuation", 4, "punctuation"],
        "subStates": [3, "genericType"]
      },
      {
        "pattern": "${identifier}",
        "style": "class"
      },
      {
        "pattern": "\"(?:[^\"\\\\]|\\\\.)*\"",
        "style": "string"
      },
      {
        "pattern": "'(?:[^'\\\\]|\\\\.)*'",
        "style": "string"
      },
      {
        "pattern": "[,\\[\\]|&?:{}()=]",
        "style": "punctuation"
      }
    ],
    "templateString": [
      {
        "pattern": "\\$\\{[^}]*\\}",
        "style": "annotation"
      },
      {
        "pattern": "\\\\.",
        "style": "string"
      },
      {
        "pattern": "`",
        "style": "string",
        "state": "default"
      },
      {
        "pattern": "${any}",
        "style": "string"
      }
    ],
    "longComment": [
      {
        "pattern": "\\*/",
        "style": "comment",
        "state": "default"
      },
      {
        "pattern": "${any}",
        "style": "comment"
      }
    ]
  },
  "blockPairs": [
    {
      "start": "{",
      "end": "}"
    }
  ]
}
