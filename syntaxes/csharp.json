{
  "name": "csharp",
  "fileExtensions": [".cs"],
  "variables": {
    "identifier": "[a-zA-Z_]\\w*",
    "whiteSpace": "[ \\t\\f]",
    "any": "[\\S\\s]",
    "builtinType": "bool|byte|sbyte|char|decimal|double|float|int|uint|long|ulong|short|ushort|nint|nuint|object|string|dynamic|void"
  },
  "states": {
    "default": [
      {
        "pattern": "\\b(record)${whiteSpace}+(class|struct)\\b${whiteSpace}+(${identifier})",
        "styles": [1, "keyword", 2, "keyword", 3, "class"],
        "state": "classHeader"
      },
      {
        "pattern": "\\b(class|interface|struct|enum|record)\\b${whiteSpace}+(${identifier})",
        "styles": [1, "keyword", 2, "class"],
        "state": "classHeader"
      },
      {
        "pattern": "\\b(namespace)\\b${whiteSpace}+(${identifier}(?:\\.${identifier})*)",
        "styles": [1, "keyword", 2, "class"]
      },
      {
        "pattern": "\\b(new)\\b${whiteSpace}+(${identifier})${whiteSpace}*(<)([^()]*)(>)${whiteSpace}*(\\()",
        "styles": [1, "keyword", 2, "class", 3, "punctuation", 5, "punctuation", 6, "punctuation"],
        "subStates": [4, "genericType"]
      },
      {
        "pattern": "\\b(new)\\b${whiteSpace}+(${identifier})${whiteSpace}*(<)([^()]*)(>)${whiteSpace}*(\\[)",
        "styles": [1, "keyword", 2, "class", 3, "punctuation", 5, "punctuation", 6, "punctuation"],
        "subStates": [4, "genericType"]
      },
      {
        "pattern": "\\b(new)\\b${whiteSpace}+(${identifier})${whiteSpace}*(<)([^()]*)(>)${whiteSpace}*(\\{)",
        "styles": [1, "keyword", 2, "class", 3, "punctuation", 5, "punctuation", 6, "punctuation"],
        "subStates": [4, "genericType"]
      },
      {
        "pattern": "\\b(new)\\b${whiteSpace}+(${identifier})${whiteSpace}*(\\()",
        "styles": [1, "keyword", 2, "class", 3, "punctuation"]
      },
      {
        "pattern": "\\b(new)\\b${whiteSpace}+(${identifier})${whiteSpace}*(\\[)",
        "styles": [1, "keyword", 2, "class", 3, "punctuation"]
      },
      {
        "pattern": "\\b(new)\\b${whiteSpace}+(${identifier})${whiteSpace}*(\\{)",
        "styles": [1, "keyword", 2, "class", 3, "punctuation"]
      },
      {
        "pattern": "\\b(using)${whiteSpace}+(static)\\b${whiteSpace}+(${identifier}(?:\\.${identifier})*)",
        "styles": [1, "keyword", 2, "keyword", 3, "class"]
      },
      {
        "pattern": "\\b(using)\\b${whiteSpace}+(${identifier}(?:\\.${identifier})*)",
        "styles": [1, "keyword", 2, "variable"]
      },
      {
        "pattern": "\\b(var)\\b${whiteSpace}+(${identifier})${whiteSpace}+(in)\\b",
        "styles": [1, "keyword", 2, "variable", 3, "keyword"]
      },
      {
        "pattern": "\\b(var)\\b${whiteSpace}+(${identifier})${whiteSpace}*([;=,)])",
        "styles": [1, "keyword", 2, "variable", 3, "punctuation"]
      },
      {
        "pattern": "^${whiteSpace}*(#)${whiteSpace}*(if|elif|else|endif|define|undef|region|endregion|pragma|error|warning|line|nullable)\\b",
        "styles": [1, "preprocessor", 2, "preprocessor"]
      },
      {
        "pattern": "\\b(${builtinType})\\b(\\?)?((?:\\[\\])*)(\\?)?${whiteSpace}+(${identifier})${whiteSpace}*(<)([^()]*)(>)${whiteSpace}*(\\()",
        "styles": [1, "keyword", 2, "punctuation", 3, "punctuation", 4, "punctuation", 5, "method", 6, "punctuation", 8, "punctuation", 9, "punctuation"],
        "subStates": [7, "genericType"],
        "state": "methodParams"
      },
      {
        "pattern": "\\b(${builtinType})\\b(\\?)?((?:\\[\\])*)(\\?)?${whiteSpace}+(${identifier})${whiteSpace}*(\\()",
        "styles": [1, "keyword", 2, "punctuation", 3, "punctuation", 4, "punctuation", 5, "method", 6, "punctuation"],
        "state": "methodParams"
      },
      {
        "pattern": "\\b(${builtinType})\\b(\\?)?((?:\\[\\])*)(\\?)?${whiteSpace}+(${identifier})${whiteSpace}*(\\{)",
        "styles": [1, "keyword", 2, "punctuation", 3, "punctuation", 4, "punctuation", 5, "property", 6, "punctuation"],
        "state": "propertyAccessor"
      },
      {
        "pattern": "\\b(${builtinType})\\b(\\?)?((?:\\[\\])*)(\\?)?${whiteSpace}+(${identifier})${whiteSpace}*(=>)",
        "styles": [1, "keyword", 2, "punctuation", 3, "punctuation", 4, "punctuation", 5, "property", 6, "punctuation"]
      },
      {
        "pattern": "\\b(${builtinType})\\b(\\?)?((?:\\[\\])*)(\\?)?${whiteSpace}+(${identifier})${whiteSpace}*([;=,)])",
        "styles": [1, "keyword", 2, "punctuation", 3, "punctuation", 4, "punctuation", 5, "variable", 6, "punctuation"]
      },
      {
        "pattern": "\\b(abstract|as|async|await|base|break|case|catch|checked|class|const|continue|default|delegate|do|else|enum|event|explicit|extern|finally|fixed|for|foreach|get|goto|if|implicit|in|init|interface|internal|is|lock|namespace|new|operator|out|override|params|partial|private|protected|public|readonly|record|ref|remove|return|sealed|set|sizeof|stackalloc|static|struct|switch|this|throw|try|typeof|unchecked|unsafe|using|var|virtual|void|volatile|when|where|while|yield)\\b",
        "styles": [1, "keyword"]
      },
      {
        "pattern": "\\b(${builtinType})\\b",
        "styles": [1, "keyword"]
      },
      {
        "pattern": "\\b(true|false|null|nameof|typeof|sizeof|default)\\b",
        "styles": [1, "builtin"]
      },
      {
        "pattern": "(\\[)(${identifier}(?:\\.${identifier})*)(\\])",
        "styles": [1, "punctuation", 2, "annotation", 3, "punctuation"]
      },
      {
        "pattern": "(${identifier})${whiteSpace}*(<)([^()]*)(>)(\\?)?((?:\\[\\])*)(\\?)?${whiteSpace}+(${identifier})${whiteSpace}*(<)([^()]*)(>)${whiteSpace}*(\\()",
        "styles": [1, "class", 2, "punctuation", 4, "punctuation", 5, "punctuation", 6, "punctuation", 7, "punctuation", 8, "method", 9, "punctuation", 11, "punctuation", 12, "punctuation"],
        "subStates": [3, "genericType", 10, "genericType"],
        "state": "methodParams"
      },
      {
        "pattern": "(${identifier})${whiteSpace}*(<)([^()]*)(>)(\\?)?((?:\\[\\])*)(\\?)?${whiteSpace}+(${identifier})${whiteSpace}*(\\()",
        "styles": [1, "class", 2, "punctuation", 4, "punctuation", 5, "punctuation", 6, "punctuation", 7, "punctuation", 8, "method", 9, "punctuation"],
        "subStates": [3, "genericType"],
        "state": "methodParams"
      },
      {
        "pattern": "(${identifier})(\\?)?((?:\\[\\])*)(\\?)?${whiteSpace}+(${identifier})${whiteSpace}*(<)([^()]*)(>)${whiteSpace}*(\\()",
        "styles": [1, "class", 2, "punctuation", 3, "punctuation", 4, "punctuation", 5, "method", 6, "punctuation", 8, "punctuation", 9, "punctuation"],
        "subStates": [7, "genericType"],
        "state": "methodParams"
      },
      {
        "pattern": "(${identifier})(\\?)?((?:\\[\\])*)(\\?)?${whiteSpace}+(${identifier})${whiteSpace}*(\\()",
        "styles": [1, "class", 2, "punctuation", 3, "punctuation", 4, "punctuation", 5, "method", 6, "punctuation"],
        "state": "methodParams"
      },
      {
        "pattern": "(${identifier})${whiteSpace}*(<)([^()]*)(>)(\\?)?((?:\\[\\])*)(\\?)?${whiteSpace}+(${identifier})${whiteSpace}*(\\{)",
        "styles": [1, "class", 2, "punctuation", 4, "punctuation", 5, "punctuation", 6, "punctuation", 7, "punctuation", 8, "property", 9, "punctuation"],
        "subStates": [3, "genericType"],
        "state": "propertyAccessor"
      },
      {
        "pattern": "(${identifier})(\\?)?((?:\\[\\])*)(\\?)?${whiteSpace}+(${identifier})${whiteSpace}*(\\{)",
        "styles": [1, "class", 2, "punctuation", 3, "punctuation", 4, "punctuation", 5, "property", 6, "punctuation"],
        "state": "propertyAccessor"
      },
      {
        "pattern": "(${identifier})${whiteSpace}*(<)([^()]*)(>)(\\?)?((?:\\[\\])*)(\\?)?${whiteSpace}+(${identifier})${whiteSpace}*(=>)",
        "styles": [1, "class", 2, "punctuation", 4, "punctuation", 5, "punctuation", 6, "punctuation", 7, "punctuation", 8, "property", 9, "punctuation"],
        "subStates": [3, "genericType"]
      },
      {
        "pattern": "(${identifier})(\\?)?((?:\\[\\])*)(\\?)?${whiteSpace}+(${identifier})${whiteSpace}*(=>)",
        "styles": [1, "class", 2, "punctuation", 3, "punctuation", 4, "punctuation", 5, "property", 6, "punctuation"]
      },
      {
        "pattern": "(${identifier})${whiteSpace}*(<)([^()]*)(>)(\\?)?((?:\\[\\])*)(\\?)?${whiteSpace}+(${identifier})${whiteSpace}*([;=,)])",
        "styles": [1, "class", 2, "punctuation", 4, "punctuation", 5, "punctuation", 6, "punctuation", 7, "punctuation", 8, "variable", 9, "punctuation"],
        "subStates": [3, "genericType"]
      },
      {
        "pattern": "(${identifier})(\\?)?((?:\\[\\])*)(\\?)?${whiteSpace}+(${identifier})${whiteSpace}*([;=,)])",
        "styles": [1, "class", 2, "punctuation", 3, "punctuation", 4, "punctuation", 5, "variable", 6, "punctuation"]
      },
      {
        "pattern": "(${identifier})${whiteSpace}*(<)([^()]*)(>)${whiteSpace}*(\\()",
        "styles": [1, "method", 2, "punctuation", 4, "punctuation", 5, "punctuation"],
        "subStates": [3, "genericType"],
        "state": "methodParams"
      },
      {
        "pattern": "(${identifier})${whiteSpace}*(\\()",
        "styles": [1, "method", 2, "punctuation"],
        "state": "methodParams"
      },
      {
        "pattern": "\\$@\"|@\\$\"",
        "style": "string",
        "state": "interpolatedVerbatimString"
      },
      {
        "pattern": "@\"",
        "style": "string",
        "state": "verbatimString"
      },
      {
        "pattern": "\\$\"",
        "style": "string",
        "state": "interpolatedString"
      },
      {
        "pattern": "\"\"\"",
        "style": "string",
        "state": "rawString"
      },
      {
        "pattern": "\"(?:[^\"\\\\]|\\\\.)*\"",
        "style": "string"
      },
      {
        "pattern": "'(?:[^'\\\\]|\\\\.)*'",
        "style": "string"
      },
      {
        "pattern": "\\b0[xX][0-9a-fA-F_]+[uUlL]*\\b",
        "style": "number"
      },
      {
        "pattern": "\\b0[bB][01_]+[uUlL]*\\b",
        "style": "number"
      },
      {
        "pattern": "\\b(?:[0-9][0-9_]*\\.?[0-9_]*(?:[eE][+-]?[0-9_]+)?[fFdDmMuUlL]*)\\b",
        "style": "number"
      },
      {
        "pattern": "/\\*",
        "style": "comment",
        "state": "longComment"
      },
      {
        "pattern": "///${any}*",
        "style": "comment"
      },
      {
        "pattern": "//${any}*",
        "style": "comment"
      },
      {
        "pattern": "=>|\\?\\?=|\\?\\?|\\?\\.|\\.\\.|->|\\+\\+|--|<<|>>|<=|>=|==|!=|&&|\\|\\||[.()\\[\\]?!@%^&|+\\-*/<>=,{};:~]",
        "style": "punctuation"
      }
    ],
    "classHeader": [
      {
        "pattern": "(<)(.*?)(>)",
        "styles": [1, "punctuation", 3, "punctuation"],
        "subStates": [2, "genericType"]
      },
      {
        "pattern": "\\b(where)\\b",
        "styles": [1, "keyword"]
      },
      {
        "pattern": "\\b(class|struct|new|notnull|unmanaged|default)\\b",
        "styles": [1, "keyword"]
      },
      {
        "pattern": "(${identifier})${whiteSpace}*(<)(.*?)(>)",
        "styles": [1, "class", 2, "punctuation", 4, "punctuation"],
        "subStates": [3, "genericType"]
      },
      {
        "pattern": "(${identifier})${whiteSpace}*(\\()",
        "styles": [1, "class", 2, "punctuation"],
        "state": "methodParams"
      },
      {
        "pattern": "\\(",
        "style": "punctuation",
        "state": "methodParams"
      },
      {
        "pattern": "${identifier}",
        "style": "class"
      },
      {
        "pattern": "[,:<>\\(\\)]",
        "style": "punctuation"
      },
      {
        "pattern": "[\\{;]",
        "style": "punctuation",
        "state": "default"
      },
      {
        "onLineEndState": "classHeader"
      }
    ],
    "methodParams": [
      {
        "pattern": "\\b(this|params|ref|out|in)\\b",
        "styles": [1, "keyword"]
      },
      {
        "pattern": "(${identifier})${whiteSpace}*(<)([^()]*)(>)(\\?)?((?:\\[\\])*)(\\?)?${whiteSpace}+(${identifier})",
        "styles": [1, "class", 2, "punctuation", 4, "punctuation", 5, "punctuation", 6, "punctuation", 7, "punctuation", 8, "variable"],
        "subStates": [3, "genericType"]
      },
      {
        "pattern": "\\b(${builtinType})\\b(\\?)?((?:\\[\\])*)(\\?)?${whiteSpace}+(${identifier})",
        "styles": [1, "keyword", 2, "punctuation", 3, "punctuation", 4, "punctuation", 5, "variable"]
      },
      {
        "pattern": "(${identifier})(\\?)?((?:\\[\\])*)(\\?)?${whiteSpace}+(${identifier})",
        "styles": [1, "class", 2, "punctuation", 3, "punctuation", 4, "punctuation", 5, "variable"]
      },
      {
        "pattern": "(\\))${whiteSpace}*(:)",
        "styles": [1, "punctuation", 2, "punctuation"],
        "state": "returnType"
      },
      {
        "pattern": "\\)",
        "style": "punctuation",
        "state": "default"
      },
      {
        "pattern": "[,\\[\\](=?]",
        "style": "punctuation"
      },
      {
        "pattern": "\\b(true|false|null|default)\\b",
        "styles": [1, "builtin"]
      },
      {
        "pattern": "\\b(?:[0-9][0-9_]*\\.?[0-9_]*(?:[eE][+-]?[0-9_]+)?[fFdDmMuUlL]*)\\b",
        "style": "number"
      },
      {
        "pattern": "\"(?:[^\"\\\\]|\\\\.)*\"",
        "style": "string"
      },
      {
        "onLineEndState": "methodParams"
      }
    ],
    "returnType": [
      {
        "pattern": "(${identifier})${whiteSpace}*(<)([^()]*)(>)",
        "styles": [1, "class", 2, "punctuation", 4, "punctuation"],
        "subStates": [3, "genericType"]
      },
      {
        "pattern": "[\\[\\]?]",
        "style": "punctuation"
      },
      {
        "pattern": "[={;]",
        "style": "punctuation",
        "state": "default"
      },
      {
        "pattern": "${identifier}",
        "style": "class"
      },
      {
        "onLineEndState": "default"
      }
    ],
    "propertyAccessor": [
      {
        "pattern": "\\b(get|set|init|add|remove)\\b",
        "styles": [1, "keyword"]
      },
      {
        "pattern": "\\b(private|protected|internal)\\b",
        "styles": [1, "keyword"]
      },
      {
        "pattern": "\\}",
        "style": "punctuation",
        "state": "default"
      },
      {
        "pattern": "[;]",
        "style": "punctuation"
      },
      {
        "onLineEndState": "propertyAccessor"
      }
    ],
    "genericType": [
      {
        "pattern": "\\b(in|out|new)\\b",
        "styles": [1, "keyword"]
      },
      {
        "pattern": "(${identifier})${whiteSpace}*(<)([^()]*)(>)",
        "styles": [1, "class", 2, "punctuation", 4, "punctuation"],
        "subStates": [3, "genericType"]
      },
      {
        "pattern": "${identifier}",
        "style": "class"
      },
      {
        "pattern": "[,\\[\\]?]",
        "style": "punctuation"
      }
    ],
    "verbatimString": [
      {
        "pattern": "\"\"",
        "style": "string"
      },
      {
        "pattern": "\"",
        "style": "string",
        "state": "default"
      },
      {
        "pattern": "${any}",
        "style": "string"
      }
    ],
    "interpolatedString": [
      {
        "pattern": "\\{\\{",
        "style": "string"
      },
      {
        "pattern": "\\}\\}",
        "style": "string"
      },
      {
        "pattern": "\\{[^}]*\\}",
        "style": "annotation"
      },
      {
        "pattern": "\\\\.",
        "style": "string"
      },
      {
        "pattern": "\"",
        "style": "string",
        "state": "default"
      },
      {
        "pattern": "${any}",
        "style": "string"
      }
    ],
    "interpolatedVerbatimString": [
      {
        "pattern": "\\{\\{",
        "style": "string"
      },
      {
        "pattern": "\\}\\}",
        "style": "string"
      },
      {
        "pattern": "\\{[^}]*\\}",
        "style": "annotation"
      },
      {
        "pattern": "\"\"",
        "style": "string"
      },
      {
        "pattern": "\"",
        "style": "string",
        "state": "default"
      },
      {
        "pattern": "${any}",
        "style": "string"
      }
    ],
    "rawString": [
      {
        "pattern": "\"\"\"",
        "style": "string",
        "state": "default"
      },
      {
        "pattern": "${any}",
        "style": "string"
      }
    ],
    "longComment": [
      {
        "pattern": "\\*/",
        "style": "comment",
        "state": "default"
      },
      {
        "pattern": "${any}",
        "style": "comment"
      }
    ]
  },
  "blockPairs": [
    {
      "start": "{",
      "end": "}"
    }
  ]
}
