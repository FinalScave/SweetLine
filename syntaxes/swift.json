{
  "name": "swift",
  "fileExtensions": [".swift"],
  "variables": {
    "identifier": "[a-zA-Z_]\\w*",
    "whiteSpace": "[ \\t\\f]",
    "any": "[\\S\\s]"
  },
  "states": {
    "default": [
      {
        "pattern": "\\b(class|struct|enum|protocol|extension|actor)\\b${whiteSpace}+(${identifier})",
        "styles": [1, "keyword", 2, "class"],
        "state": "typeHeader"
      },
      {
        "pattern": "\\b(func)\\b${whiteSpace}+(${identifier})${whiteSpace}*(<)([^()]*)(>)${whiteSpace}*(\\()",
        "styles": [1, "keyword", 2, "method", 3, "punctuation", 5, "punctuation", 6, "punctuation"],
        "subStates": [4, "genericType"],
        "state": "funcParams"
      },
      {
        "pattern": "\\b(func)\\b${whiteSpace}+(${identifier})${whiteSpace}*(\\()",
        "styles": [1, "keyword", 2, "method", 3, "punctuation"],
        "state": "funcParams"
      },
      {
        "pattern": "\\b(init)(\\??)(\\()",
        "styles": [1, "keyword", 2, "punctuation", 3, "punctuation"],
        "state": "funcParams"
      },
      {
        "pattern": "\\b(subscript)${whiteSpace}*(\\()",
        "styles": [1, "keyword", 2, "punctuation"],
        "state": "funcParams"
      },
      {
        "pattern": "\\b(let|var)\\b${whiteSpace}+(${identifier})${whiteSpace}*(:)${whiteSpace}*(\\[?)(${identifier})(\\]?)${whiteSpace}*(<)([^()]*)(>)",
        "styles": [1, "keyword", 2, "variable", 3, "punctuation", 4, "punctuation", 5, "class", 6, "punctuation", 7, "punctuation", 9, "punctuation"],
        "subStates": [8, "genericType"]
      },
      {
        "pattern": "\\b(let|var)\\b${whiteSpace}+(${identifier})${whiteSpace}*(:)${whiteSpace}*(\\[?)(${identifier})(\\]?)(\\??)",
        "styles": [1, "keyword", 2, "variable", 3, "punctuation", 4, "punctuation", 5, "class", 6, "punctuation", 7, "punctuation"]
      },
      {
        "pattern": "\\b(let|var)\\b${whiteSpace}+(${identifier})${whiteSpace}*([=,])",
        "styles": [1, "keyword", 2, "variable", 3, "punctuation"]
      },
      {
        "pattern": "\\b(let|var)\\b${whiteSpace}+(${identifier})",
        "styles": [1, "keyword", 2, "variable"]
      },
      {
        "pattern": "\\b(typealias)\\b${whiteSpace}+(${identifier})",
        "styles": [1, "keyword", 2, "class"]
      },
      {
        "pattern": "\\b(associatedtype)\\b${whiteSpace}+(${identifier})",
        "styles": [1, "keyword", 2, "class"]
      },
      {
        "pattern": "\\b(case)\\b${whiteSpace}+(${identifier})${whiteSpace}*(\\()",
        "styles": [1, "keyword", 2, "variable", 3, "punctuation"]
      },
      {
        "pattern": "\\b(case)\\b${whiteSpace}+(${identifier})",
        "styles": [1, "keyword", 2, "variable"]
      },
      {
        "pattern": "\\b(import)\\b${whiteSpace}+(${identifier}(?:\\.${identifier})*)",
        "styles": [1, "keyword", 2, "variable"]
      },
      {
        "pattern": "\\b(actor|as|associatedtype|async|await|break|case|catch|class|continue|convenience|deinit|default|defer|do|dynamic|else|enum|extension|fallthrough|fileprivate|final|for|func|get|guard|if|import|in|indirect|infix|init|inout|internal|is|lazy|let|mutating|nonmutating|nonisolated|open|operator|optional|override|package|postfix|precedencegroup|prefix|private|protocol|public|repeat|required|rethrows|return|set|some|any|static|struct|subscript|super|switch|throw|throws|try|typealias|unowned|var|weak|where|while|willSet|didSet)\\b",
        "styles": [1, "keyword"]
      },
      {
        "pattern": "\\b(Any|AnyObject|Bool|Character|Double|Float|Int|Int8|Int16|Int32|Int64|UInt|UInt8|UInt16|UInt32|UInt64|String|Void|Optional|Array|Dictionary|Set|Result|Never|Error|Codable|Encodable|Decodable|Hashable|Equatable|Comparable|Identifiable|CustomStringConvertible|Sequence|Collection|IteratorProtocol|ClosedRange|Range|Data|URL|Date|UUID|IndexPath|NSObject|CGFloat|CGRect|CGSize|CGPoint)\\b",
        "styles": [1, "class"]
      },
      {
        "pattern": "\\b(true|false|nil)\\b",
        "styles": [1, "builtin"]
      },
      {
        "pattern": "\\b(self|Self|super)\\b",
        "styles": [1, "keyword"]
      },
      {
        "pattern": "(@)(${identifier})",
        "styles": [1, "punctuation", 2, "annotation"]
      },
      {
        "pattern": "(#(?:available|canImport|colorLiteral|column|dsohandle|else|elseif|endif|error|file|fileID|filePath|fileLiteral|function|if|imageLiteral|keyPath|line|selector|sourceLocation|warning))\\b",
        "styles": [1, "annotation"]
      },
      {
        "pattern": "(${identifier})(\\.)(${identifier})${whiteSpace}*(\\()",
        "styles": [1, "variable", 2, "punctuation", 3, "method", 4, "punctuation"]
      },
      {
        "pattern": "(${identifier})(\\.)(${identifier})",
        "styles": [1, "variable", 2, "punctuation", 3, "variable"]
      },
      {
        "pattern": "(${identifier})${whiteSpace}*(<)([^()]*)(>)${whiteSpace}*(\\()",
        "styles": [1, "method", 2, "punctuation", 4, "punctuation", 5, "punctuation"],
        "subStates": [3, "genericType"]
      },
      {
        "pattern": "(${identifier})${whiteSpace}*(\\()",
        "styles": [1, "method", 2, "punctuation"]
      },
      {
        "pattern": "\"\"\"",
        "style": "string",
        "state": "multilineString"
      },
      {
        "pattern": "\"",
        "style": "string",
        "state": "doubleString"
      },
      {
        "pattern": "\\b0[xX][0-9a-fA-F_]+\\b",
        "style": "number"
      },
      {
        "pattern": "\\b0[oO][0-7_]+\\b",
        "style": "number"
      },
      {
        "pattern": "\\b0[bB][01_]+\\b",
        "style": "number"
      },
      {
        "pattern": "\\b(?:[0-9][0-9_]*\\.?[0-9_]*(?:[eE][+-]?[0-9_]+)?)\\b",
        "style": "number"
      },
      {
        "pattern": "/\\*",
        "style": "comment",
        "state": "longComment"
      },
      {
        "pattern": "//${any}*",
        "style": "comment"
      },
      {
        "pattern": "->|\\.\\.\\.|\\.\\.<?|\\?\\?|\\+\\+|--|<<|>>|<=|>=|===?|!==?|&&|\\|\\||[.()\\[\\]?!@%^&|+\\-*/<>=,{};:~#]",
        "style": "punctuation"
      }
    ],
    "typeHeader": [
      {
        "pattern": "\\b(where)\\b",
        "styles": [1, "keyword"]
      },
      {
        "pattern": "\\b(some|any)\\b",
        "styles": [1, "keyword"]
      },
      {
        "pattern": "(${identifier})(\\.)(${identifier})",
        "styles": [1, "class", 2, "punctuation", 3, "class"]
      },
      {
        "pattern": "${identifier}",
        "style": "class"
      },
      {
        "pattern": "[,:<>&?]",
        "style": "punctuation"
      },
      {
        "pattern": "\\{",
        "style": "punctuation",
        "state": "default"
      },
      {
        "pattern": "//${any}*",
        "style": "comment"
      },
      {
        "onLineEndState": "typeHeader"
      }
    ],
    "funcParams": [
      {
        "pattern": "(\\))${whiteSpace}+(throws|rethrows|async)\\b",
        "styles": [1, "punctuation", 2, "keyword"],
        "state": "funcReturn"
      },
      {
        "pattern": "(\\))${whiteSpace}*(->)",
        "styles": [1, "punctuation", 2, "punctuation"],
        "state": "funcReturn"
      },
      {
        "pattern": "\\)",
        "style": "punctuation",
        "state": "default"
      },
      {
        "pattern": "(_)${whiteSpace}+(${identifier})${whiteSpace}*(:)${whiteSpace}*(?:(inout)${whiteSpace}+)?(${identifier})${whiteSpace}*(<)([^()]*)(>)",
        "styles": [1, "keyword", 2, "variable", 3, "punctuation", 4, "keyword", 5, "class", 6, "punctuation", 8, "punctuation"],
        "subStates": [7, "genericType"]
      },
      {
        "pattern": "(_)${whiteSpace}+(${identifier})${whiteSpace}*(:)${whiteSpace}*(?:(inout)${whiteSpace}+)?(\\[?)(${identifier})(\\]?)(\\??)",
        "styles": [1, "keyword", 2, "variable", 3, "punctuation", 4, "keyword", 5, "punctuation", 6, "class", 7, "punctuation", 8, "punctuation"]
      },
      {
        "pattern": "(${identifier})${whiteSpace}+(${identifier})${whiteSpace}*(:)${whiteSpace}*(?:(inout)${whiteSpace}+)?(${identifier})${whiteSpace}*(<)([^()]*)(>)",
        "styles": [1, "variable", 2, "variable", 3, "punctuation", 4, "keyword", 5, "class", 6, "punctuation", 8, "punctuation"],
        "subStates": [7, "genericType"]
      },
      {
        "pattern": "(${identifier})${whiteSpace}+(${identifier})${whiteSpace}*(:)${whiteSpace}*(?:(inout)${whiteSpace}+)?(\\[?)(${identifier})(\\]?)(\\??)",
        "styles": [1, "variable", 2, "variable", 3, "punctuation", 4, "keyword", 5, "punctuation", 6, "class", 7, "punctuation", 8, "punctuation"]
      },
      {
        "pattern": "(${identifier})${whiteSpace}*(:)${whiteSpace}*(?:(inout)${whiteSpace}+)?(${identifier})${whiteSpace}*(<)([^()]*)(>)",
        "styles": [1, "variable", 2, "punctuation", 3, "keyword", 4, "class", 5, "punctuation", 7, "punctuation"],
        "subStates": [6, "genericType"]
      },
      {
        "pattern": "(${identifier})${whiteSpace}*(:)${whiteSpace}*(?:(inout)${whiteSpace}+)?(\\[?)(${identifier})(\\]?)(\\??)",
        "styles": [1, "variable", 2, "punctuation", 3, "keyword", 4, "punctuation", 5, "class", 6, "punctuation", 7, "punctuation"]
      },
      {
        "pattern": "\\b(inout|some|any|escaping|autoclosure)\\b",
        "styles": [1, "keyword"]
      },
      {
        "pattern": "(@)(${identifier})",
        "styles": [1, "punctuation", 2, "annotation"]
      },
      {
        "pattern": "\\b(true|false|nil)\\b",
        "styles": [1, "builtin"]
      },
      {
        "pattern": "\\b(?:[0-9][0-9_]*\\.?[0-9_]*(?:[eE][+-]?[0-9_]+)?)\\b",
        "style": "number"
      },
      {
        "pattern": "\"(?:[^\"\\\\]|\\\\.)*\"",
        "style": "string"
      },
      {
        "pattern": "[,\\[\\]=?@&.]",
        "style": "punctuation"
      },
      {
        "onLineEndState": "funcParams"
      }
    ],
    "funcReturn": [
      {
        "pattern": "->",
        "style": "punctuation"
      },
      {
        "pattern": "\\b(throws|rethrows|async)\\b",
        "styles": [1, "keyword"]
      },
      {
        "pattern": "\\b(where|some|any)\\b",
        "styles": [1, "keyword"]
      },
      {
        "pattern": "(${identifier})${whiteSpace}*(<)([^()]*)(>)",
        "styles": [1, "class", 2, "punctuation", 4, "punctuation"],
        "subStates": [3, "genericType"]
      },
      {
        "pattern": "(${identifier})(\\.)(${identifier})",
        "styles": [1, "class", 2, "punctuation", 3, "class"]
      },
      {
        "pattern": "${identifier}",
        "style": "class"
      },
      {
        "pattern": "\\{",
        "style": "punctuation",
        "state": "default"
      },
      {
        "pattern": "[\\[\\]?(),:<>&]",
        "style": "punctuation"
      },
      {
        "pattern": "//${any}*",
        "style": "comment"
      },
      {
        "onLineEndState": "default"
      }
    ],
    "genericType": [
      {
        "pattern": "\\b(where|some|any)\\b",
        "styles": [1, "keyword"]
      },
      {
        "pattern": "(${identifier})${whiteSpace}*(<)([^()]*)(>)",
        "styles": [1, "class", 2, "punctuation", 4, "punctuation"],
        "subStates": [3, "genericType"]
      },
      {
        "pattern": "${identifier}",
        "style": "class"
      },
      {
        "pattern": "[,\\[\\]&?:.]",
        "style": "punctuation"
      }
    ],
    "multilineString": [
      {
        "pattern": "\"\"\"",
        "style": "string",
        "state": "default"
      },
      {
        "pattern": "\\\\\\([^)]*\\)",
        "style": "annotation"
      },
      {
        "pattern": "\\\\.",
        "style": "string"
      },
      {
        "pattern": "${any}",
        "style": "string"
      }
    ],
    "doubleString": [
      {
        "pattern": "\"",
        "style": "string",
        "state": "default"
      },
      {
        "pattern": "\\\\\\([^)]*\\)",
        "style": "annotation"
      },
      {
        "pattern": "\\\\.",
        "style": "string"
      },
      {
        "pattern": "${any}",
        "style": "string"
      },
      {
        "onLineEndState": "default"
      }
    ],
    "longComment": [
      {
        "pattern": "\\*/",
        "style": "comment",
        "state": "default"
      },
      {
        "pattern": "${any}",
        "style": "comment"
      }
    ]
  },
  "blockPairs": [
    {
      "start": "{",
      "end": "}"
    }
  ]
}
